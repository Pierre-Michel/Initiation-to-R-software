---
title: "Initiation to R Software"
author: "Pierre Michel"
date: "Master AMSE 1st year, 2019"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Problem Set II

## 1) Matrix calculus

Note: In this exercise, use randomly generated matrices and vectors (see Problem Set I).

For example you should quickly get this kind of matrix using the functions `matrix()` and `sample()`:

```{r, echo = F} 
matrix(sample(1:9),3)
```

a) How to compute the sum of the elements of a vector/matrix ? Mathematically, the sum of the elements of a matrix $A \in\mathbb{R}^{m\times n}$, denoted $\Sigma(A)$, with elements $(a_{i,j})\in\mathbb{R}$ is defined as follows:

$$ \Sigma(A) = \sum_{i=1}^m \sum_{j=1}^n a_{i,j} =  \sum_{j=1}^n \sum_{i=1}^m a_{i,j}$$



b) Compute the sum of the elements of each column of a matrix.
c) Let `M` be a matrix of dimension (4,3). What is the value of M[11] ? Extract an element using another linear index.
d) Generate 2 random vectors `x` and `y`, each with 100 observations draw uniformly from the 5 first integers for `x` and from the 3 first integers for `y`.
e) Compute the contengency table of `x` and `y` (function `table()`), and put it in a matrix `M`.
f) Compute the means by row/column of `M` (function `apply()`).
g) Create a matrix `Q` with the same elements as `M`, but with dimension (2,6).
h) Create a matrix `P` whose elements are `x[i]*y[i]/N`, where `N` is the length of two vectors `x` and `y`. Consider `N = 100`.
i) Extract the submatrix of `P` whose first element of each row is a value greater than 2. 

## 2) Dataframes in R packages

a) Create a `data.frame` with 4 columns (3 numeric, 1 character) and 5 observations (rows). Choose the name of each column. Below is what you should get...
````{r, echo=F, eval=T}
data.frame(x=rnorm(4,0,1),y=runif(4,0,60),z=rnorm(4,0,30),w=sample(LETTERS,4))
```
b) Choose the name of each row.
c) Add one numeric column to the `data.frame`, this column should contain the sum of the two first numeric columns values. Choose a name.
d) Add one logical column to the `data.frame`, this column should indicate if the values in the third column are greater than 10. Choose a name.
e) Remove the first and last columns.
f) How many available packages are there in your R session ? Which ones ? Use `library()`.
g) Import in a `data.frame` the data from the file **airquality** in package `datasets`. What does it contain ?
h) Print some descriptive statistics about the columns of this dataset. And plot some graphics. Comment the results. Below is what you should get:

\footnotesize
```{r, echo = F} 
summary(airquality)
pairs(airquality[,1:4], col = airquality$Month, oma=c(3,3,3,15))
par(xpd=TRUE)
legend("bottomright", legend = c("May", "June", "July", "August", "September"), col = unique(airquality$Month), pch = 1)
```